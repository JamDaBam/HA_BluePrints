# EN Dreame – Alexa Voice Command Blueprints (per room) + Automation for Automatic Cleaning

These blueprints allow you to use **Alexa** voice commands to start cleaning scripts for **specific rooms** with your **Dreame** robot vacuum.

> **Status**: beta

## Requirements
- **tassHack** integration for Dreame.  
- **vacuum_mop_card** to retrieve the **room IDs**.  
- Updated Home Assistant installation.  
- (Optional) Script exposure to **Alexa** via **Nabu Casa**, **Lambda**, or **Matter**.

## What the 3 Blueprints Do
1. **Room Helper** – creates a `helper` to quickly identify the correct **room ID** generated by `vacuum_mop_card`.  
2. **Room Script** – generates a **script** that lets you choose **mode** (mop only, vacuum only, CleanGenius) and **room**.  
   > You can rename the script and expose it to Alexa. Example commands: “Alexa, start *cleaning kitchen*” or “Alexa, start *vacuuming kitchen*”.  
   >
   > **Note**: for now, it is necessary to **duplicate the script** for each room/mode combination due to limitations in Home Assistant’s blueprint system.

## Quick Installation
1. Copy the `.yaml` files from the **ENG** folder into your `/config/blueprints/automation` directory, or import them via the repository URL.  
2. In Home Assistant → **Settings → Automations & Scenes → Blueprints**, import and create the automations.  
3. Use the **Room Helper** blueprint to read and register the correct **room IDs**.  
4. Create scripts with the **Room Script** blueprint and **rename them** to make them easy to call, for example:  
   - *Mopping the kitchen*  
   - *Vacuuming the kitchen*  
   - *Cleaning the kitchen*  
5. **Expose** the scripts to **Alexa** (Nabu Casa / Lambda / Matter).  
6. Try it out: “Alexa, start *vacuuming the kitchen*”.

## Alexa Naming Examples
- *Mopping the kitchen*  
- *Vacuuming the kitchen*  
- *Cleaning the kitchen*

## Known Limitations
- Manual duplication of scripts for multiple rooms and cleaning modes.

## Support / Feedback
Open an **Issue** or write in the forum thread (link below).

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

<h1>🇮🇹 Dreame 🧹 – Blueprint comandi vocali Alexa per stanza + Automazione Pulizie 💬</h1> <blockquote><b>Beta!</b> Questa suite di blueprint permette di usare Alexa per pulire stanza per stanza con il tuo robot Dreame. Facile, comodo, e... automatico! ✨</blockquote> <hr /> <h2>📑 Indice</h2> <ul> <li><a href="#descrizione">Descrizione</a></li> <li><a href="#requisiti">Requisiti</a></li> <li><a href="#installazione-rapida">Installazione Rapida</a></li> <li><a href="#import-diretto-blueprint-️">Import Diretto Blueprint 🛠️</a></li> <li><a href="#nota-fondamentale-sui-comandi-alexa-">Nota fondamentale sui comandi Alexa 🗣️</a></li> <li><a href="#esempi-per-alexa-">Esempi per Alexa 🎤</a></li> <li><a href="#limitazioni-️">Limitazioni ⚠️</a></li> <li><a href="#faq--risoluzione-problemi-">FAQ & Risoluzione Problemi ❓</a></li> <li><a href="#supporto--feedback-">Supporto & Feedback 💬</a></li> <li><a href="#licenza-">Licenza 📜</a></li> </ul> <hr /> <h2 id="descrizione">✨ Descrizione</h2> Questi blueprint permettono di: <ul> <li>Identificare facilmente l’ID stanza del Dreame (helper dedicato)</li> <li>Creare script personalizzati, attivabili via Alexa per le singole stanze e modalità (solo mop, aspirazione, CleanGenius)</li> <li>Automatizzare le pulizie, anche a orari/condizioni specifiche</li> </ul> <hr /> <h2 id="requisiti">🛠️ Requisiti</h2> <ul> <li>Integrazione <b>tassHack</b> per Dreame</li> <li><b>vacuum_mop_card</b> per vedere gli ID stanza</li> <li>Home Assistant aggiornato</li> <li>(Facoltativo) Esposizione ad Alexa via <b>Nabu Casa</b>, <b>Lambda</b> o <b>Matter</b></li> </ul> <hr /> <h2 id="installazione-rapida">🚀 Installazione rapida</h2> <ol> <li><b>Importa</b> i blueprint tramite i link sotto ⤵️</li> <li>In HA → <b>Impostazioni → Automazioni e Scenari → Blueprint</b>: importa e crea le automazioni</li> <li>Usa l’helper per trovare il giusto ID stanza</li> <li>Crea gli script stanza (<b>con nome identico al comando vocale!</b>) 😁</li> <li>Esponi gli script ad Alexa</li> <li>Prova subito: “Alexa, avvia mop cucina” 🎉</li> </ol> <hr /> <h2 id="import-diretto-blueprint-️">🛠️ Import Diretto Blueprint</h2> <ul> <li><a href="https://my.home-assistant.io/redirect/blueprint_import/?blueprint_url=https%3A%2F%2Fgithub.com%2FMagnum9O%2FHA_BluePrints%2Fblob%2Fmain%2FDreame%2FITA%2F1_CreaHelperStanze.yaml">1️⃣ Helper Stanze (Room List Helper)</a></li> <li><a href="https://my.home-assistant.io/redirect/blueprint_import/?blueprint_url=https%3A%2F%2Fgithub.com%2FMagnum9O%2FHA_BluePrints%2Fblob%2Fmain%2FDreame%2FITA%2F2_EsponiAdAlexa.yaml">2️⃣ Script Stanza Alexa (Exposure)</a></li> <li><a href="https://my.home-assistant.io/redirect/blueprint_import/?blueprint_url=https%3A%2F%2Fgithub.com%2FMagnum9O%2FHA_BluePrints%2Fblob%2Fmain%2FDreame%2FITA%2F3_AutomazionePulizie.yaml">3️⃣ Automazione Pulizie (Automation)</a></li> </ul> <hr /> <h2 id="nota-fondamentale-sui-comandi-alexa-">🗣️ Nota fondamentale sui comandi Alexa</h2> <blockquote> ⚡ <b>Per attivare uno script via voce con Alexa in Home Assistant:</b><br /><br /> - <b>Il nome dello script</b> in Home Assistant <u>deve coincidere esattamente</u> con la frase che vuoi pronunciare dopo “Apri” o “Avvia”.<br /> &nbsp;&nbsp;&nbsp;&nbsp;<b>Esempio:</b><br /> &nbsp;&nbsp;&nbsp;&nbsp;Script chiamato <code>mop cucina</code><br /> &nbsp;&nbsp;&nbsp;&nbsp;Comando vocale: “Alexa, avvia mop cucina”<br /><br /> - Non usare spazi, accenti o caratteri particolari nei nomi degli script per maggiore compatibilità.<br /> - Se vuoi una frase diversa, crea una Routine Alexa e collegala allo script.<br /><br /> 🎯 <b>Consiglio:</b><br /> Dai ai tuoi script nomi brevi, chiari e intuitivi (es: <code>mop cucina</code>, <code>aspirazione studio</code>, <code>pulizia bagno</code>).<br /> Evita prefissi come <code>script_</code>, altrimenti Alexa si aspetta che tu pronunci “Alexa, avvia script mop cucina”.<br /> </blockquote> <hr /> <h2 id="esempi-per-alexa-">🎤 Esempi Comandi Alexa</h2> <table> <thead> <tr> <th>Comando Alexa</th> <th>Nome script (preciso)</th> <th>Modalità</th> </tr> </thead> <tbody> <tr> <td>“Avvia mop cucina”</td> <td>mop cucina</td> <td>solo mop</td> </tr> <tr> <td>“Apri aspirazione studio”</td> <td>aspirazione studio</td> <td>solo aspirazione</td> </tr> <tr> <td>“Avvia pulizia bagno”</td> <td>pulizia bagno</td> <td>CleanGenius</td> </tr> </tbody> </table> <hr /> <h2 id="limitazioni-️">⚠️ Limitazioni</h2> <ul> <li>Devi <b>duplicare uno script</b> per ogni stanza/modalità che vuoi (limite attuale Home Assistant)</li> </ul> <hr /> <h2 id="faq--risoluzione-problemi-">❓ FAQ & Risoluzione Problemi</h2> <ul> <li><b>Alexa non trova il comando?</b><br />Controlla che lo script sia esposto, rinominato in modo chiaro e collegato al giusto ID stanza.</li> <li><b>Non trovo l’ID stanza giusto</b><br />Usa il Room List Helper e la card vacuum_mop_card.</li> <li><b>Funzione non parte</b><br />Verifica i requisiti e che tassHack sia configurato correttamente.</li> </ul> <hr /> <h2 id="supporto--feedback-">💬 Supporto & Feedback</h2> <ul> <li>Apri una <b>Issue</b> qui su GitHub</li> <li>Scrivi sul <a href="https://community.home-assistant.io/">Forum Home Assistant</a></li> </ul> <hr /> <h2 id="licenza-">📜 Licenza</h2> MIT
